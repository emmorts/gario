{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/buffercodec/index.js","node_modules/smartmap/index.js","src/client/js/DomElement.js","src/client/js/Graph.js","src/client/js/KeyCode.js","src/client/js/WSController.js","src/client/js/app.js","src/client/js/models/Player.js","src/client/js/models/index.js","src/client/js/packets/AddPlayer.js","src/client/js/packets/UpdatePlayers.js","src/client/js/packets/UpdateSpells.js","src/client/js/packets/index.js","src/client/js/polyfills.js","src/client/js/spells/Primary.js","src/client/js/spells/index.js","src/opCode.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"game.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function BufferCodec(buffer) {\r\n  if (!(this instanceof BufferCodec)) {\r\n    return new BufferCodec(buffer);\r\n  }\r\n\r\n  this.offset = 0;\r\n  this.jobs = [];\r\n\r\n  if (buffer) {\r\n    if (buffer.byteLength > 0) {\r\n      if (buffer instanceof ArrayBuffer) {\r\n        this.buffer = buffer;\r\n      } else {\r\n        var arrayBuffer = new ArrayBuffer(buffer.length);\r\n        var view = new Uint8Array(arrayBuffer);\r\n        for (var i = 0; i < buffer.length; ++i) {\r\n          view[i] = buffer[i];\r\n        }\r\n        this.buffer = arrayBuffer;\r\n      }\r\n    }\r\n    if (!this.buffer) {\r\n      console.warn(\"Received malformed data\");\r\n    }\r\n  }\r\n}\r\n\r\nBufferCodec.prototype.result = function () {\r\n  this.offset = 0;\r\n  \r\n  var bufferLength = this.jobs.reduce(function(last, current) {\r\n    return last + current.length;\r\n  }, 0);\r\n  var buffer = new ArrayBuffer(bufferLength);\r\n  var dataView = new DataView(buffer);\r\n  \r\n  if (this.jobs.length > 0) {\r\n    this.jobs.forEach(function (job) {\r\n      if (job.method !== 'string') {\r\n        dataView[job.method](this.offset, job.data, job.littleEndian);\r\n        this.offset += job.length;\r\n      } else {\r\n        if (job.encoding === 'utf16') {\r\n          for (var i = 0; i < job.length / 2; i++, this.offset += 2) {\r\n            dataView.setUint16(this.offset, job.data.charCodeAt(i), true);\r\n          }\r\n        } else if (job.encoding === 'utf8') {\r\n          for (var i = 0; i < job.length; i++, this.offset++) {\r\n            dataView.setUint8(this.offset, job.data.charCodeAt(i));\r\n          }\r\n        } else {\r\n          console.warn('Undefined encoding: ' + job.encoding);\r\n        }\r\n      }\r\n    }, this);\r\n  }\r\n  \r\n  this.jobs = [];\r\n  \r\n  return dataView.buffer;\r\n}\r\n\r\nBufferCodec.prototype.string = function (value, encoding) {\r\n  this.jobs.push({\r\n    method: 'string',\r\n    data: value,\r\n    length: (!encoding || encoding === 'utf16') ? value.length * 2 : value.length,\r\n    encoding: encoding ? encoding : 'utf16'\r\n  });\r\n\r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.int8 = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setInt8',\r\n    length: 1\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.uint8 = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setUint8',\r\n    length: 1\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.int16le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setInt16',\r\n    length: 2,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.int16be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setInt16',\r\n    length: 2,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.uint16le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setUint16',\r\n    length: 2,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.uint16be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setUint16',\r\n    length: 2,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.int32le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setInt32',\r\n    length: 4,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.int32be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setInt32',\r\n    length: 4,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.uint32le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setUint32',\r\n    length: 4,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.uint32be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setUint32',\r\n    length: 4,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.float32le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setFloat32',\r\n    length: 4,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.float32be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setFloat32',\r\n    length: 4,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.float64le = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setFloat64',\r\n    length: 8,\r\n    littleEndian: true\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.float64be = function (value) {\r\n  this.jobs.push({\r\n    data: value,\r\n    method: 'setFloat64',\r\n    length: 8,\r\n    littleEndian: false\r\n  });\r\n  \r\n  return this;\r\n}\r\n\r\nBufferCodec.prototype.parse = function (template, transform) {\r\n  if (this.buffer && template) {\r\n    var data = new DataView(this.buffer);\r\n    var result = {}, element = {};\r\n    \r\n    if (template.constructor === Object) {\r\n      for (var propertyName in template) {\r\n        element = {\r\n          name: propertyName\r\n        };\r\n        \r\n        if (template[propertyName].constructor === Array) {\r\n          element.type = 'array'\r\n          element.itemTemplate = template[propertyName][0];\r\n        } else if (template[propertyName].constructor === String) {\r\n          element.type = template[propertyName];\r\n        } else if (template[propertyName].constructor === Object) {\r\n          for (var innerPropertyName in template[propertyName]) {\r\n            element[innerPropertyName] = template[propertyName][innerPropertyName];\r\n          }\r\n        }\r\n        \r\n        parseItem.call(this, element, result);\r\n      }\r\n    } else if (template.constructor === Array) {\r\n      element = {\r\n        type: 'array',\r\n        itemTemplate: template[0]\r\n      };\r\n      \r\n      parseItem.call(this, element, result);\r\n    }\r\n    \r\n    if (transform) {\r\n      return transform(result);\r\n    } else {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  function parseArray(data, template) {\r\n    var result = [];\r\n\r\n    var length = data.getUint8(this.offset++);\r\n    if (length > 0) {\r\n      for (var i = 0; i < length; i++) {\r\n        result.push(this.parse(template));\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function parseItem(element) {\r\n    var templateResult;\r\n    switch (element.type) {\r\n      case 'int8':\r\n        templateResult = data.getInt8(this.offset);\r\n        this.offset += 1;\r\n        break;\r\n      case 'uint8':\r\n        templateResult = data.getUint8(this.offset);\r\n        this.offset += 1;\r\n        break;\r\n      case 'int16le':\r\n        templateResult = data.getInt16(this.offset, true);\r\n        this.offset += 2;\r\n        break;\r\n      case 'uint16le':\r\n        templateResult = data.getUint16(this.offset, true);\r\n        this.offset += 2;\r\n        break;\r\n      case 'int16be':\r\n        templateResult = data.getInt16(this.offset, false);\r\n        this.offset += 2;\r\n        break;\r\n      case 'uint16be':\r\n        templateResult = data.getUint16(this.offset, false);\r\n        this.offset += 2;\r\n        break;\r\n      case 'int32le':\r\n        templateResult = data.getInt32(this.offset, true);\r\n        this.offset += 4;\r\n        break;\r\n      case 'uint32le':\r\n        templateResult = data.getUint32(this.offset, true);\r\n        this.offset += 4;\r\n        break;\r\n      case 'int32be':\r\n        templateResult = data.getInt32(this.offset, false);\r\n        this.offset += 4;\r\n        break;\r\n      case 'uint32be':\r\n        templateResult = data.getUint32(this.offset, false);\r\n        this.offset += 4;\r\n        break;\r\n      case 'float32le':\r\n        templateResult = data.getFloat32(this.offset, true);\r\n        this.offset += 4;\r\n        break;\r\n      case 'float32be':\r\n        templateResult = data.getFloat32(this.offset, false);\r\n        this.offset += 4;\r\n        break;\r\n      case 'float64le':\r\n        templateResult = data.getFloat64(this.offset, true);\r\n        this.offset += 8;\r\n        break;\r\n      case 'float64be':\r\n        templateResult = data.getFloat64(this.offset, false);\r\n        this.offset += 8;\r\n        break;\r\n      case 'string':\r\n        if (typeof element.length === 'undefined') {\r\n          element.length = data.getUint8(this.offset++);\r\n        } else if (!element.length) {\r\n          templateResult = '';\r\n          break;\r\n        }\r\n        if (!element.encoding || element.encoding === 'utf16') {\r\n          var utf16 = new ArrayBuffer(element.length * 2);\r\n          var utf16view = new Uint16Array(utf16);\r\n          for (var i = 0; i < element.length; i++ , this.offset += 2) {\r\n            utf16view[i] = data.getUint8(this.offset);\r\n          }\r\n          templateResult = String.fromCharCode.apply(null, utf16view);\r\n        } else if (element.encoding === 'utf8') {\r\n          var utf8 = new ArrayBuffer(element.length);\r\n          var utf8view = new Uint8Array(utf8);\r\n          for (var i = 0; i < element.length; i++ , this.offset += 2) {\r\n            utf8view[i] = data.getUint8(this.offset);\r\n          }\r\n          templateResult = String.fromCharCode.apply(null, utf8view);\r\n        }\r\n        break;\r\n      case 'array':\r\n        templateResult = parseArray.call(this, data, element.itemTemplate);\r\n        break;\r\n      default:\r\n        console.error('Type ' + element.type + ' is not supported.');\r\n    }\r\n\r\n    if (element.name) {\r\n      result[element.name] = templateResult;\r\n    } else {\r\n      result = templateResult;\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = BufferCodec;","(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global.Immutable = factory());\r\n})(this, function () {\r\n  var SmartMap = function () {\r\n    if (arguments.length === 0) {\r\n      _warn(\"Unable to initialize SmartMap, no indices provided.\");\r\n      return;\r\n    }\r\n    this.indices = Array.prototype.slice.call(arguments);\r\n    this.length = 0;\r\n    this._head = null;\r\n    this._tail = null;\r\n    this._position = null;\r\n    this._keys = {};\r\n    this._debug = true;\r\n  }\r\n  \r\n  SmartMap.prototype.add = function (object) {\r\n    if (this.indices.length > 0) {\r\n      var node = { v: Object.seal(object) };\r\n      \r\n      this.indices.forEach(function (index) {\r\n        if (!(index in this._keys)) {\r\n          this._keys[index] = {};\r\n        }\r\n        \r\n        if (index in object) {\r\n          var key = object[index];\r\n          \r\n          if (this.length === 0) {\r\n            this._head = this._tail = node;\r\n            this.reset();\r\n          } else {\r\n            node.p = this._tail;\r\n            this._tail.n = node;\r\n            this._tail = node;\r\n          }\r\n          \r\n          this._keys[index][key] = node;\r\n          \r\n        } else {\r\n          _warn(\"Index `\" + index + \"` doesn't exist in given object.\");\r\n        }\r\n      }.bind(this));\r\n      \r\n      this.length++;\r\n    }\r\n  }\r\n  \r\n  SmartMap.prototype.get = function (key, index) {\r\n    if (index in this._keys) {\r\n      if (key in this._keys[index]) {\r\n        return this._keys[index][key].v;\r\n      } else {\r\n        _warn(\"Undefined key `\" + key + \"` in index `\" + index + \"`.\");\r\n      }\r\n    } else {\r\n      _warn(\"Undefined index `\" + index + \"`.\");\r\n    }\r\n    \r\n    return undefined;\r\n  }\r\n  \r\n  SmartMap.prototype.delete = function (key, index) {\r\n    if (index in this._keys && key in this._keys[index]) {\r\n      var object;\r\n      var node = this._keys[index][key];\r\n\r\n      if (node) {\r\n        object = node.v;\r\n\r\n        if (node.p) node.p.n = node.n;\r\n        if (node.n) node.n.p = node.p;\r\n\r\n        this._keys[index][key] = null;\r\n        this.length--;\r\n      }\r\n\r\n      return object;\r\n    }\r\n    \r\n    return undefined;\r\n  }\r\n  \r\n  SmartMap.prototype.reset = function () {\r\n    this._position = { n: this._head };\r\n  }\r\n  \r\n  SmartMap.prototype.empty = function () {\r\n    this._keys = {};\r\n    this._head = this._tail = this._position = null;\r\n    this.length = 0;\r\n  };\r\n  \r\n  SmartMap.prototype.forEach = function (fn, thisArg) {\r\n    var tmp, index = 0;\r\n    \r\n    if (this.length) {\r\n      while (tmp = _next.call(this)) {\r\n        if (thisArg) {\r\n          fn.call(thisArg, tmp.v, index);\r\n        } else {\r\n          fn(tmp.v, index);\r\n        }\r\n        index++;\r\n      }\r\n      \r\n      this.reset();\r\n    }\r\n  }\r\n  \r\n  SmartMap.prototype.find = function (predicate, thisArg) {\r\n    var tmp, result;\r\n    \r\n    if (this.length) {\r\n      while (tmp = _next.call(this)) {\r\n        var passes = thisArg ? predicate.call(this, tmp.v) : predicate(tmp.v);\r\n        if (passes) {\r\n          result = tmp.v;\r\n          this.reset();\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return result;\r\n  }\r\n  \r\n  return SmartMap;\r\n  \r\n  function _validateObject(object) {\r\n    var validatedProperties = 0;\r\n    for (var property in object) {\r\n      if (~this.indices.indexOf(property)) validatedProperties++;\r\n    }\r\n    return validatedProperties === this.indices.length;\r\n  }\r\n  \r\n  function _next() {\r\n    return this._position = this._position.n;\r\n  }\r\n  \r\n  function _warn(message) {\r\n    if (this._debug) {\r\n      console.warn(message);\r\n    }\r\n  }\r\n});","export default class DomElement {\r\n  constructor(query, elementClass) {\r\n    this.htmlElement = null;\r\n    this.instance = null;\r\n    this._eventHandlers = [];\r\n    \r\n    if (query) {\r\n      this.htmlElement = window.document.querySelector(query);\r\n      \r\n      if (this.htmlElement && elementClass) {\r\n        this.instance = new elementClass(this.htmlElement);\r\n      }\r\n    }\r\n  }\r\n  \r\n  on(name, listener) {\r\n    if (!(name in this._eventHandlers) || !(this._eventHandlers[name] instanceof Array)) {\r\n      this._eventHandlers[name] = [];\r\n    }\r\n    if (!~this._eventHandlers[name].indexOf(listener)) {\r\n      this._eventHandlers[name].push(listener);\r\n      \r\n      this.htmlElement.addEventListener(name, listener);\r\n    }\r\n    \r\n    return this;\r\n  }\r\n}","var OPCode = require('../../opCode');\r\n\r\nexport default class Graph {\r\n  constructor(canvas) {\r\n    this._canvas = canvas;\r\n    this._context = this._canvas.getContext('2d');\r\n\r\n    this.screenWidth = this._canvas.width = getDefaultWidth();\r\n    this.screenHeight = this._canvas.height = getDefaultHeight();\r\n    this.xOffset = 0;\r\n    this.yOffset = 0;\r\n    this._borderColor = '#666';\r\n    this._gridColor = '#ececec';\r\n    this._globalAlpha = 0.15;\r\n    this._gameWidth = 1000;\r\n    this._gameHeight = 1000;\r\n    this._arenaSize = 500;\r\n    this.__scrollSpeed = 4;\r\n  \r\n    window.addEventListener('resize', onResize.bind(this));\r\n\r\n    this.player = {\r\n      id: -1,\r\n      position: {\r\n        x: this.screenWidth / 2,\r\n        y: this.screenHeight / 2\r\n      }\r\n    };\r\n\r\n    this._playerOptions = {\r\n      border: 6,\r\n      borderColor: '#CCCCCC',\r\n      textColor: '#FFFFFF',\r\n      textBorder: '#000000',\r\n      textBorderSize: 3,\r\n      fontSize: 12,\r\n      defaultSize: 30\r\n    };\r\n  }\r\n  \r\n  clear() {\r\n    this._context.fillStyle = 'rgb(255, 255, 255)';\r\n    this._context.fillRect(0, 0, this.screenWidth, this.screenHeight);\r\n\r\n    return this;\r\n  }\r\n  \r\n  updateOffset(scroll) {\r\n    switch (scroll) {\r\n      case OPCode.DIRECTION_NWEST:\r\n        this.xOffset -= this.__scrollSpeed;\r\n        this.yOffset -= this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_NEAST:\r\n        this.xOffset += this.__scrollSpeed;\r\n        this.yOffset -= this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_SWEST:\r\n        this.xOffset -= this.__scrollSpeed;\r\n        this.yOffset += this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_SEAST:\r\n        this.xOffset += this.__scrollSpeed;\r\n        this.yOffset += this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_WEST:\r\n        this.xOffset -= this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_EAST:\r\n        this.xOffset += this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_NORTH:\r\n        this.yOffset -= this.__scrollSpeed;\r\n        break;\r\n      case OPCode.DIRECTION_SOUTH:\r\n        this.yOffset += this.__scrollSpeed;\r\n        break;\r\n    }\r\n    \r\n    this.xOffset = Math.max(this.xOffset, 0);\r\n    this.xOffset = Math.min(this.xOffset, (this._gameWidth - this._arenaSize) / 2);\r\n    this.yOffset = Math.max(this.yOffset, 0);\r\n    this.yOffset = Math.min(this.yOffset, (this._gameHeight - this._arenaSize) / 2);\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawDebug() {\r\n    if (this.player.id !== -1) {\r\n      // COORDINATES\r\n      var posX = this.player.position.x;\r\n      var posY = this.player.position.y;\r\n      var coordinates = 'Coordinates: ' + Math.round(posX) + ' ' + Math.round(posY);\r\n      this.drawText(coordinates, 50, 50);\r\n      \r\n      // OFFSET\r\n      var offset = 'Offset: ' + Math.round(this.xOffset) + ' ' + Math.round(this.yOffset);\r\n      this.drawText(offset, 50, 70);\r\n      \r\n      // VELOCITY\r\n      var velocity = 'Velocity: ' + Math.round(this.player.velocity.x) + ' ' + Math.round(this.player.velocity.y);\r\n      this.drawText(velocity, 50, 30);\r\n    }\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawArena() {\r\n    this._context.lineWidth = 2;\r\n    this._context.beginPath();\r\n    \r\n    var startX = (this._gameWidth - this._arenaSize) / 2 - this.xOffset;\r\n    var startY = (this._gameHeight - this._arenaSize) / 2 - this.yOffset;\r\n    \r\n    this._context.moveTo(startX, startY);\r\n    this._context.lineTo(startX, startY + this._arenaSize);\r\n    this._context.lineTo(startX + this._arenaSize, startY + this._arenaSize);\r\n    this._context.lineTo(startX + this._arenaSize, startY);\r\n    this._context.lineTo(startX, startY);\r\n    \r\n    this._context.strokeStyle = '#000';\r\n    this._context.stroke();\r\n    this._context.fillStyle = '#eee';\r\n    this._context.fill();\r\n    \r\n    this._context.closePath();\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawGrid() {\r\n    this._context.lineWidth = 1;\r\n    this._context.strokeStyle = this._gridColor;\r\n    this._context.beginPath();\r\n\r\n    for (var x = -this.xOffset; x < this.screenWidth + this.xOffset; x += 40) {\r\n      x = Math.round(x) + 0.5;\r\n      this._context.moveTo(x, 0);\r\n      this._context.lineTo(x, this.screenHeight);\r\n    }\r\n\r\n    for (var y = -this.yOffset; y < this.screenHeight + this.yOffset; y += 40) {\r\n      x = Math.round(y) + 0.5;\r\n      this._context.moveTo(0, y);\r\n      this._context.lineTo(this.screenWidth, y);\r\n    }\r\n\r\n    this._context.stroke();\r\n\r\n    return this;\r\n  }\r\n  \r\n  drawText(text, x, y, fontSize, hasStroke = true) {\r\n    if (typeof fontSize === 'undefined') {\r\n      fontSize = this._playerOptions.fontSize;\r\n    }\r\n    this._context.lineWidth = this._playerOptions.textBorderSize;\r\n    this._context.fillStyle = this._playerOptions.textColor;\r\n    this._context.strokeStyle = this._playerOptions.textBorder;\r\n    this._context.font = 'bold ' + fontSize + 'px sans-serif';\r\n    this._context.miterLimit = 1;\r\n    this._context.lineJoin = 'round';\r\n    this._context.textBaseline = 'middle';\r\n    if (hasStroke) {\r\n      this._context.strokeText(text, x, y);\r\n    }\r\n    this._context.fillText(text, x, y);\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawPlayer(player) {\r\n    var posX = player.position.x - this.xOffset;\r\n    var posY = player.position.y - this.yOffset;\r\n    \r\n    var arcLength = 2 * (player.health / player.maxHealth) * Math.PI;\r\n    var deficit = (2 * Math.PI - arcLength) / 2;\r\n    var arcStart = player.rotation + deficit;\r\n    var arcEnd = arcLength + player.rotation + deficit;\r\n\r\n    this._context.beginPath();\r\n    this._context.arc(posX, posY, player.radius, 0, 2 * Math.PI);\r\n    this._context.fillStyle = getColorInRGB(player.color);\r\n    this._context.fill();\r\n    this._context.closePath();\r\n    \r\n    this._context.beginPath();\r\n    this._context.arc(posX, posY, player.radius - 3, arcStart, arcEnd);\r\n    this._context.lineWidth = 6;\r\n    this._context.strokeStyle = getHealthColor(player.health, player.maxHealth);\r\n    this._context.stroke();\r\n    this._context.closePath();\r\n\r\n    this._context.textAlign = 'center';\r\n    this.drawText(player.name, posX, posY - 40, 14);\r\n    this._context.textAlign = 'left';\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawPlayers(playerList) {\r\n    var currentPlayer = playerList.get(this.player.id);\r\n    if (currentPlayer) {\r\n      this.player.position.x = currentPlayer.position.x;\r\n      this.player.position.y = currentPlayer.position.y;\r\n    }\r\n    playerList.forEach(player => this.drawPlayer(player));\r\n\r\n    return this;\r\n  }\r\n  \r\n  drawSpell(spell) {\r\n    var posX = spell.position.x - this.xOffset;\r\n    var posY = spell.position.y - this.yOffset;\r\n    \r\n    this._context.beginPath();\r\n    this._context.arc(posX, posY, spell.radius, 0, 2 * Math.PI);\r\n    this._context.fillStyle = getColorInRGB(spell.color);\r\n    this._context.fill();\r\n    this._context.closePath();\r\n    \r\n    return this;\r\n  }\r\n  \r\n  drawSpells(spellList = []) {\r\n    spellList.forEach(spell => this.drawSpell(spell));\r\n    \r\n    return this;\r\n  }\r\n  \r\n};\r\n\r\nfunction getColorInRGB(color, lightenPct) {\r\n  if (color) {\r\n    var r = color.r,\r\n      g = color.g,\r\n      b = color.b;\r\n    if (lightenPct) {\r\n      r = Math.round(r - r * lightenPct);\r\n      g = Math.round(g - g * lightenPct);\r\n      b = Math.round(b - b * lightenPct);\r\n    }\r\n    return 'rgb(' + r + ', ' + g + ', ' + b + ')';\r\n  }\r\n  return 'rgb(0, 0, 0)';\r\n}\r\n\r\nfunction getHealthColor(health, maxHealth) {\r\n  var hue = Math.floor((health / maxHealth) * 120);\r\n  \r\n  return 'hsl(' + hue + ', 100%, 50%)';\r\n}\r\n\r\nfunction onResize() {\r\n  this.screenWidth = this._canvas.width = getDefaultWidth();\r\n  this.screenHeight = this._canvas.height = getDefaultHeight();\r\n}\r\n\r\nfunction isValueInRange(min, max, value) {\r\n  return Math.min(max, Math.max(min, value));\r\n}\r\n\r\nfunction getDefaultWidth() {\r\n  return window.innerWidth && document.documentElement.clientWidth\r\n    ? Math.min(window.innerWidth, document.documentElement.clientWidth)\r\n    : window.innerWidth ||\r\n    document.documentElement.clientWidth ||\r\n    document.getElementsByTagName('body')[0].clientWidth;\r\n}\r\n\r\nfunction getDefaultHeight() {\r\n  return window.innerHeight && document.documentElement.clientHeight\r\n    ? Math.min(window.innerHeight, document.documentElement.clientHeight)\r\n    : window.innerHeight ||\r\n    document.documentElement.clientHeight ||\r\n    document.getElementsByTagName('body')[0].clientHeight;\r\n}","export default {\r\n  MAC_ENTER: 3,\r\n  BACKSPACE: 8,\r\n  TAB: 9,\r\n  NUM_CENTER: 12,\r\n  ENTER: 13,\r\n  SHIFT: 16,\r\n  CTRL: 17,\r\n  ALT: 18,\r\n  PAUSE: 19,\r\n  CAPS_LOCK: 20,\r\n  ESC: 27,\r\n  SPACE: 32,\r\n  PAGE_UP: 33,\r\n  PAGE_DOWN: 34,\r\n  END: 35,\r\n  HOME: 36,\r\n  LEFT: 37,\r\n  UP: 38,\r\n  RIGHT: 39,\r\n  DOWN: 40,\r\n  PRINT_SCREEN: 44,\r\n  INSERT: 45,\r\n  DELETE: 46,\r\n  ZERO: 48,\r\n  ONE: 49,\r\n  TWO: 50,\r\n  THREE: 51,\r\n  FOUR: 52,\r\n  FIVE: 53,\r\n  SIX: 54,\r\n  SEVEN: 55,\r\n  EIGHT: 56,\r\n  NINE: 57,\r\n  A: 65,\r\n  B: 66,\r\n  C: 67,\r\n  D: 68,\r\n  E: 69,\r\n  F: 70,\r\n  G: 71,\r\n  H: 72,\r\n  I: 73,\r\n  J: 74,\r\n  K: 75,\r\n  L: 76,\r\n  M: 77,\r\n  N: 78,\r\n  O: 79,\r\n  P: 80,\r\n  Q: 81,\r\n  R: 82,\r\n  S: 83,\r\n  T: 84,\r\n  U: 85,\r\n  V: 86,\r\n  W: 87,\r\n  X: 88,\r\n  Y: 89,\r\n  Z: 90,\r\n  META: 91,\r\n  CONTEXT_MENU: 93,\r\n  NUM_ZERO: 96,\r\n  NUM_ONE: 97,\r\n  NUM_TWO: 98,\r\n  NUM_THREE: 99,\r\n  NUM_FOUR: 100,\r\n  NUM_FIVE: 101,\r\n  NUM_SIX: 102,\r\n  NUM_SEVEN: 103,\r\n  NUM_EIGHT: 104,\r\n  NUM_NINE: 105,\r\n  NUM_MULTIPLY: 106,\r\n  NUM_PLUS: 107,\r\n  NUM_MINUS: 109,\r\n  NUM_PERIOD: 110,\r\n  NUM_DIVISION: 111,\r\n  F1: 112,\r\n  F2: 113,\r\n  F3: 114,\r\n  F4: 115,\r\n  F5: 116,\r\n  F6: 117,\r\n  F7: 118,\r\n  F8: 119,\r\n  F9: 120,\r\n  F10: 121,\r\n  F11: 122,\r\n  F12: 123\r\n};","var BufferCodec = require('buffercodec');\r\nvar OPCode = require('../../opCode');\r\n\r\nimport * as Packets from './packets/index';\r\n\r\nexport default class WSController {\r\n  constructor() {\r\n    this._uri = 'ws://192.168.2.116:3000';\r\n    this._socket = null;\r\n    this._eventHandlers = [];\r\n\r\n    this._setupSocket();\r\n  }\r\n  \r\n  spawn(playerName) {\r\n    var buffer = BufferCodec()\r\n      .uint8(OPCode.SPAWN_PLAYER)\r\n      .uint8(playerName.length)\r\n      .string(playerName)\r\n      .result();\r\n      \r\n    this._socket.send(buffer);\r\n  }\r\n  \r\n  move(player) {\r\n    var buffer = BufferCodec()\r\n      .uint8(OPCode.PLAYER_MOVE)\r\n      .uint16le(player.target.x)\r\n      .uint16le(player.target.y)\r\n      .result();\r\n\r\n    this._socket.send(buffer);\r\n  }\r\n  \r\n  cast(opcode, options) {\r\n    var buffer = BufferCodec()\r\n      .uint8(opcode)\r\n      .uint16le(options.playerX)\r\n      .uint16le(options.playerY)\r\n      .uint16le(options.x)\r\n      .uint16le(options.y)\r\n      .result();\r\n\r\n    this._socket.send(buffer);\r\n  }\r\n  \r\n  on(name, listener) {\r\n    if (!(name in this._eventHandlers) || !(this._eventHandlers[name] instanceof Array)) {\r\n      this._eventHandlers[name] = [];\r\n    }\r\n    this._eventHandlers[name].push(listener);\r\n  }\r\n  \r\n  _fire(name, options) {\r\n    if (name in this._eventHandlers && this._eventHandlers[name].length > 0) {\r\n      this._eventHandlers[name].forEach(handler => handler(options));\r\n    }\r\n  }\r\n  \r\n  _setupSocket() {\r\n    this._socket = new WebSocket(this._uri);\r\n    this._socket.binaryType = 'arraybuffer';\r\n\r\n    this._socket.onopen = function (event) {\r\n      this._fire('open');\r\n\r\n      this._socket.onmessage = function handleMessage(message) {\r\n        var codec = BufferCodec(message.data);\r\n        var code = this._getOpCode(codec);\r\n\r\n        switch (code) {\r\n          case OPCode.ADD_PLAYER:\r\n            this._fire('addPlayer', this._parse(codec, Packets.AddPlayer));\r\n            break;\r\n          case OPCode.UPDATE_PLAYERS:\r\n            this._fire('updatePlayers', this._parse(codec, Packets.UpdatePlayers));\r\n            break;\r\n          case OPCode.UPDATE_SPELLS:\r\n            this._fire('updateSpells', this._parse(codec, Packets.UpdateSpells));\r\n            break;\r\n          default:\r\n            console.warn(\"Undefined opcode\");\r\n            break;\r\n        }\r\n      }.bind(this)\r\n    }.bind(this)\r\n  }\r\n  \r\n  _parse(codec, packet) {\r\n    return codec.parse(packet.mapping, packet.transform);\r\n  }\r\n  \r\n  _getOpCode(codec) {\r\n    return codec.parse({ code: 'uint8' }, obj => obj.code);\r\n  }\r\n}","require('./polyfills');\r\n\r\nvar Models = require('./models');\r\nvar OPCode = require('../../opCode');\r\n\r\nimport SmartMap from 'smartmap';\r\nimport KeyCode from './KeyCode';\r\nimport Graph from './Graph';\r\nimport WSController from './WSController';\r\nimport DomElement from './DomElement';\r\nimport * as Spells from './spells';\r\n\r\n(function () {\r\n  \r\n  var graph;\r\n  var ws;\r\n  var animLoopHandle;\r\n  var lastUpdate;\r\n  var moveTick = performance.now();\r\n  var targetTick = performance.now();\r\n  var mouse = { x: 0, y: 0 };\r\n  var scrollDirection = null;\r\n\r\n  var playerList = new SmartMap('id', 'ownerId');\r\n  var spellList = new SmartMap('id');\r\n  var currentPlayer = null;\r\n\r\n  var canvas = new DomElement('.js-canvas', Graph);\r\n  graph = canvas.instance;\r\n\r\n  var playerNameElement = new DomElement('.js-player-name');\r\n  var playButtonElement = new DomElement('.js-play-button');\r\n  var errorElement = new DomElement('.js-error');\r\n  \r\n  playButtonElement.on('mouseup', startGame);\r\n  playerNameElement.on('keyup', function validate(event) {\r\n    if (!~[KeyCode.ENTER, KeyCode.MAC_ENTER].indexOf(event.keyCode)) {\r\n      startGame();\r\n    } else {\r\n      var pattern = /^[a-zA-Z0-9 ]{0,25}$/;\r\n      if (event.target.value.match(pattern)) {\r\n        errorElement.htmlElement.style.display = 'none';\r\n        playButtonElement.htmlElement.disabled = false;\r\n      } else {\r\n        errorElement.htmlElement.style.display = 'block';\r\n        playButtonElement.htmlElement.disabled = true;\r\n      }\r\n    }\r\n  });\r\n\r\n  function animationLoop(timestamp) {\r\n    animLoopHandle = window.requestAnimationFrame(animationLoop);\r\n    \r\n    gameLoop(timestamp - lastUpdate);\r\n    lastUpdate = timestamp;\r\n  }\r\n\r\n  function gameLoop(deltaT) {\r\n    graph\r\n      .clear()\r\n      .updateOffset(scrollDirection)\r\n      .drawGrid()\r\n      .drawArena()\r\n      .drawSpells(spellList)\r\n      .drawPlayers(playerList)\r\n      .drawDebug();\r\n    \r\n    playerList.forEach(player => player.calculateNextPosition(deltaT));\r\n    spellList.forEach(spell => spell.calculateNextPosition(deltaT));\r\n    \r\n    spellList.forEach((spell, spellIndex) => {\r\n      playerList.forEach(player => {\r\n        if (spell.ownerId !== player.ownerId) {\r\n          var distanceX = player.position.x - spell.position.x;\r\n          var distanceY = player.position.y - spell.position.y;\r\n          var distance = distanceX * distanceX + distanceY * distanceY;\r\n          if (distance < Math.pow(spell.radius + player.radius, 2)) {\r\n            spell.onCollision(player);\r\n            spellList.splice(spellIndex, 1);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  function startGame () {\r\n    var playerName = playerNameElement.htmlElement.value;\r\n    new DomElement('.js-start-menu').htmlElement.style.display = 'none';\r\n    \r\n    ws = new WSController();\r\n\r\n    ws.on('open', function startGame() {\r\n      \r\n      ws.spawn(playerName);\r\n      \r\n      canvas.on('contextmenu', event => event.preventDefault());\r\n      \r\n      canvas.on('mousemove', function (event) {\r\n        var westBreakpoint = graph.screenWidth / 10,\r\n            eastBreakpoint = graph.screenWidth * 9 / 10,\r\n            northBreakpoint = graph.screenHeight / 10,\r\n            southBreakpoint = graph.screenHeight * 9 / 10;\r\n            \r\n        if (event.x < westBreakpoint && event.y < northBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_NWEST;\r\n        } else if (event.x > eastBreakpoint && event.y < northBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_NEAST;\r\n        } else if (event.x < westBreakpoint && event.y > southBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_SWEST;\r\n        } else if (event.x > eastBreakpoint && event.y > southBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_SEAST;\r\n        } else if (event.x < westBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_WEST;\r\n        } else if (event.x > eastBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_EAST;\r\n        } else if (event.y < northBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_NORTH;\r\n        } else if (event.y > southBreakpoint) {\r\n          scrollDirection = OPCode.DIRECTION_SOUTH;\r\n        } else {\r\n          scrollDirection = null;\r\n        }\r\n        mouse.x = event.x;\r\n        mouse.y = event.y;\r\n      });\r\n      \r\n      canvas.on('mousedown', function (event) {\r\n        if (currentPlayer && event.button === 2) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          var now = performance.now();\r\n          var diff = now - targetTick;\r\n          if (diff > 100) {\r\n            var targetX = mouse.x + graph.xOffset;\r\n            var targetY = mouse.y + graph.yOffset;\r\n            targetX = Math.min(Math.max(targetX, 0), graph._gameWidth);\r\n            targetY = Math.min(Math.max(targetY, 0), graph._gameHeight);\r\n            currentPlayer.setTarget({ x: targetX, y: targetY});\r\n            targetTick = now;\r\n            ws.move(currentPlayer);\r\n          }\r\n        }\r\n      });\r\n      \r\n      window.document.addEventListener('keydown', function (event) {\r\n        switch (event.keyCode) {\r\n          case KeyCode.Q:\r\n            ws.cast(OPCode.CAST_PRIMARY, {\r\n              playerX: currentPlayer.position.x,\r\n              playerY: currentPlayer.position.y,\r\n              x: mouse.x + graph.xOffset,\r\n              y: mouse.y + graph.yOffset\r\n            });\r\n            break;\r\n        }\r\n      });\r\n      \r\n      \r\n      ws.on('addPlayer', function (node) {\r\n        currentPlayer = new Models.Player(node);\r\n        graph.player = currentPlayer;\r\n        playerList.add(currentPlayer);\r\n      });\r\n      \r\n      ws.on('updatePlayers', function (players) {\r\n        var updatedPlayers = players.updatedPlayers;\r\n        if (updatedPlayers && updatedPlayers.length > 0) {\r\n          updatedPlayers.forEach(updatedPlayer => {\r\n            var foundPlayer = playerList.get(updatedPlayer.id, 'id');\r\n            if (foundPlayer) {\r\n              foundPlayer.setTarget(updatedPlayer.target);\r\n            } else {\r\n              var player = new Models.Player(updatedPlayer);\r\n              playerList.add(player);\r\n            }\r\n          });\r\n        }\r\n        \r\n        var destroyedPlayers = players.destroyedPlayers;\r\n        if (destroyedPlayers && destroyedPlayers.length > 0) {\r\n          destroyedPlayers.forEach(destroyedPlayer => playerList.delete(destroyedPlayer));\r\n        }\r\n      });\r\n      \r\n      ws.on('updateSpells', function (spells) {\r\n        var updatedSpells = spells.updatedSpells;\r\n        if (updatedSpells && updatedSpells.length > 0) {\r\n          updatedSpells.forEach(function (updatedSpell) {\r\n            var SpellClass = Spells.get(updatedSpell.type);\r\n            var spell = new SpellClass(updatedSpell);\r\n            spell.onAdd(playerList.get(spell.ownerId, 'ownerId'));\r\n            spellList.add(spell);\r\n          });\r\n        }\r\n        \r\n        var destroyedSpells = spells.destroyedSpells;\r\n        if (destroyedSpells && destroyedSpells.length > 0) {\r\n          destroyedSpells.forEach(destroyedSpell => spellList.delete(destroyedSpell));\r\n        }\r\n      });\r\n      \r\n    });\r\n    \r\n    if (!animLoopHandle) {\r\n      lastUpdate = Date.now();\r\n      animationLoop(lastUpdate);\r\n    }\r\n  }\r\n    \r\n})();","export default class Player {\r\n  constructor(playerModel) {\r\n    playerModel = playerModel || {};\r\n    \r\n    this.id = playerModel.id || -1;\r\n    this.ownerId = playerModel.ownerId || -1;\r\n    this.name = playerModel.name;\r\n    this.health = playerModel.health;\r\n    this.maxHealth = playerModel.maxHealth;\r\n    this.speed = 3;\r\n    this.acceleration = 0.1;\r\n    this.rotation = 0;\r\n    this.targetRotation = 0;\r\n    this.radius = 20;\r\n    this.mass = 20;\r\n    this.velocity = { x: 0, y: 0 };\r\n    this.stunned = 0;\r\n    this._baseFriction = 0.2;\r\n    this._baseRotationTicks = 10;\r\n    this._baseCastTicks = 10;\r\n    this._baseRadius = this.radius;\r\n    this.__maxRadius = 25;\r\n    this.__rotationTicks = this._baseRotationTicks;\r\n    this.__castTicks = this._baseCastTicks;\r\n    this.__friction = this._baseFriction;\r\n    this.__animateCast = false;\r\n    \r\n    this.color = {\r\n      r: playerModel.color.r || 0,\r\n      g: playerModel.color.g | 0,\r\n      b: playerModel.color.b || 0\r\n    };\r\n    \r\n    this.position = {\r\n      x: playerModel.position.x || 0,\r\n      y: playerModel.position.y || 0\r\n    };\r\n    \r\n    this.target = {\r\n      x: (playerModel.target ? playerModel.target.x : null) || playerModel.position.x || 0,\r\n      y: (playerModel.target ? playerModel.target.y : null) || playerModel.position.y || 0\r\n    };\r\n  }\r\n  \r\n  calculateNextPosition(deltaT) {\r\n    if (typeof this.target.x !== 'undefined' && typeof this.target.y !== 'undefined') {\r\n      this._calculatePosition(deltaT);\r\n    }\r\n    if (typeof this.targetRotation !== 'undefined') {\r\n      this._calculateRotation(deltaT);\r\n    }\r\n    if (this.__animateCast) {\r\n      this._updateAnimation();\r\n    }\r\n  }\r\n  \r\n  setTarget(target) {\r\n    this.target = {\r\n      x: target.x,\r\n      y: target.y\r\n    };\r\n    \r\n    this.targetRotation = Math.atan2(target.y - this.position.y, target.x - this.position.x);\r\n    var diff = Math.abs(this.targetRotation - this.rotation);\r\n    \r\n    if (diff > Math.PI / 2) {\r\n      this.__friction = this._baseFriction;\r\n    }\r\n  }\r\n  \r\n  onCast(spell) {\r\n    this.__animateCast = true;\r\n    this.targetRotation = Math.atan2(spell.target.y - this.position.y, spell.target.x - this.position.x);\r\n  }\r\n  \r\n  _calculatePosition(deltaT) {\r\n    if (!this._arePositionsApproximatelyEqual(this.position, this.target) || this.stunned) {\r\n      if (this.__friction < 1) {\r\n        this.__friction += this.acceleration;\r\n      }\r\n      \r\n      var speed = this.speed * this.__friction;\r\n      var velX = this.velocity.x;\r\n      var velY = this.velocity.y;\r\n      var velocity = 0, fn;\r\n      \r\n      if (!this.stunned) {\r\n        var vX = this.target.x - this.position.x;\r\n        var vY = this.target.y - this.position.y;\r\n        var distance = this._getHypotenuseLength(vX, vY);\r\n        \r\n        velX = (vX / distance) * speed;\r\n        velY = (vY / distance) * speed;\r\n      }\r\n      \r\n      if (Math.abs(this.velocity.x - velX) > this.acceleration) {\r\n        velocity = this.acceleration * Math.sign(velX);\r\n        fn = Math.sign(velX) !== 1 ? Math.max : Math.min;\r\n        this.velocity.x = fn(this.velocity.x + velocity, Math.sign(velX) * speed); \r\n      } else {\r\n        this.velocity.x = velX;\r\n      }\r\n      \r\n      if (Math.abs(this.velocity.y - velY) > this.acceleration) {\r\n        velocity = this.acceleration * Math.sign(velY);\r\n        fn = Math.sign(velY) !== 1 ? Math.max : Math.min;\r\n        this.velocity.y = fn(this.velocity.y + velocity, Math.sign(velY) * speed); \r\n      } else {\r\n        this.velocity.y = velY;\r\n      }\r\n      \r\n      this.position.x += this.velocity.x;\r\n      this.position.y += this.velocity.y;\r\n      \r\n      if (this.stunned) {\r\n        this.velocity.x *= (1 - this.acceleration);\r\n        this.velocity.y *= (1 - this.acceleration);\r\n        this.target.x = this.position.x;\r\n        this.target.y = this.position.y;\r\n        this.stunned--;\r\n      }\r\n    } else {\r\n      this.__friction = this._baseFriction;\r\n      this.velocity = { x: 0, y: 0 };\r\n    }\r\n  }\r\n  \r\n  _calculateRotation(deltaT) {\r\n    if (Math.abs(this.rotation - this.targetRotation) > 1e-5) {\r\n      if (this.__rotationTicks > 0) {\r\n        if (this.rotation > Math.PI) {\r\n          this.rotation = -Math.PI - (Math.PI - Math.abs(this.rotation));\r\n        } else if (this.rotation < -Math.PI) {\r\n          this.rotation = Math.PI + (Math.PI - Math.abs(this.rotation));\r\n        }\r\n        if (Math.abs(this.targetRotation - this.rotation) > Math.PI) {\r\n          var diffA = Math.PI - Math.abs(this.rotation);\r\n          var diffB = Math.PI - Math.abs(this.targetRotation);\r\n          var diff = diffA + diffB;\r\n          if (this.rotation > 0) {\r\n            this.rotation += diff / this.__rotationTicks;\r\n          } else {\r\n            this.rotation -= diff / this.__rotationTicks;\r\n          }\r\n        } else {\r\n          this.rotation += (this.targetRotation - this.rotation) / this.__rotationTicks;\r\n        }\r\n      } else {\r\n        this.rotation = this.targetRotation;\r\n        this.__rotationTicks = this._baseRotationTicks;\r\n      }\r\n    }\r\n  }\r\n  \r\n  _updateAnimation() {\r\n    if (this.__castTicks > 0) {\r\n      var sign = Math.sign(this.__castTicks - this._baseCastTicks / 2);\r\n      this.radius += sign * (this.__maxRadius - this.radius) / 4;\r\n      this.__castTicks--;\r\n    } else {\r\n      this.radius = this._baseRadius;\r\n      this.__castTicks = this._baseCastTicks;\r\n      this.__animateCast = false;\r\n      this.targetRotation = Math.atan2(this.target.y - this.position.y, this.target.x - this.position.x);\r\n    }\r\n  }\r\n  \r\n  _getHypotenuseLength(x, y) {\r\n    return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n  }\r\n  \r\n  _arePositionsApproximatelyEqual(positionA, positionB) {\r\n    var errorMargin = 5;\r\n    return (Math.abs(positionA.x - positionB.x) < errorMargin) && (Math.abs(positionA.y - positionB.y) < errorMargin);\r\n  }\r\n}","export { default as Player } from './Player';","export default {\r\n  mapping: {\r\n    id: { type: 'string', length: 32 },\r\n    ownerId: { type: 'string', length: 32},\r\n    name: 'string',\r\n    health: 'uint16le',\r\n    maxHealth: 'uint16le',\r\n    x: 'float32le',\r\n    y: 'float32le',\r\n    r: 'uint8',\r\n    g: 'uint8',\r\n    b: 'uint8'\r\n  },\r\n  transform: (player) => {\r\n    return {\r\n      id: player.id,\r\n      ownerId: player.ownerId,\r\n      name: player.name,\r\n      health: player.health,\r\n      maxHealth: player.maxHealth,\r\n      position: { x: player.x, y: player.y },\r\n      color: { r: player.r, g: player.g, b: player.b }\r\n    }\r\n  }\r\n};","export default {\r\n  mapping: {\r\n    updatedPlayers: [{\r\n      id: { type: 'string', length: 32 },\r\n      ownerId: { type: 'string', length: 32},\r\n      name: 'string',\r\n      health: 'unint16le',\r\n      maxHealth: 'uint16le',\r\n      x: 'float32le',\r\n      y: 'float32le',\r\n      targetX: 'float32le',\r\n      targetY: 'float32le',\r\n      r: 'uint8',\r\n      g: 'uint8',\r\n      b: 'uint8'\r\n    }],\r\n    destroyedPlayers: [{\r\n      id: { type: 'string', length: 32 }\r\n    }]\r\n  },\r\n  transform: (object) => {\r\n    var updatedPlayers = object.updatedPlayers.map(player => {\r\n      return {\r\n        id: player.id,\r\n        ownerId: player.ownerId,\r\n        name: player.health,\r\n        maxHealth: player.maxHealth,\r\n        position: { x: player.x, y: player.y },\r\n        target: { x: player.targetX, y: player.targetY },\r\n        color: { r: player.r, g: player.g, b: player.b }\r\n      }\r\n    });\r\n    var destroyedPlayers = object.destroyedPlayers.map(player => player.id);\r\n    \r\n    return {\r\n      updatedPlayers,\r\n      destroyedPlayers\r\n    };\r\n  }\r\n};","export default {\r\n  mapping: {\r\n    updatedSpells: [{\r\n      id: { type: 'string', length: 32 },\r\n      ownerId: { type: 'string', length: 32 },\r\n      type: 'uint8',\r\n      mass: 'uint8',\r\n      power: 'uint8',\r\n      x: 'float32le',\r\n      y: 'float32le',\r\n      targetX: 'float32le',\r\n      targetY: 'float32le',\r\n      r: 'uint8',\r\n      g: 'uint8',\r\n      b: 'uint8'\r\n    }],\r\n    destroyedSpells: [{\r\n      id: { type: 'string', length: 32 }\r\n    }]\r\n  },\r\n  transform: (object) => {\r\n    var updatedSpells = object.updatedSpells.map(spell => {\r\n      return {\r\n        id: spell.id,\r\n        ownerId: spell.ownerId,\r\n        type: spell.type,\r\n        mass: spell.mass,\r\n        power: spell.power,\r\n        position: { x: spell.x, y: spell.y },\r\n        target: { x: spell.targetX, y: spell.targetY },\r\n        color: { r: spell.r, g: spell.g, b: spell.b }\r\n      }\r\n    });\r\n    var destroyedSpells = object.destroyedSpells.map(spell => spell.id);\r\n    \r\n    return {\r\n      updatedSpells,\r\n      destroyedSpells\r\n    };\r\n  }\r\n}","export { default as AddPlayer } from './AddPlayer';\r\nexport { default as UpdatePlayers } from './UpdatePlayers';\r\nexport { default as UpdateSpells } from './UpdateSpells';","if (!Array.prototype.find) {\r\n  Array.prototype.find = function (predicate) {\r\n    if (this === null) {\r\n      throw new TypeError('Array.prototype.find called on null or undefined');\r\n    }\r\n    if (typeof predicate !== 'function') {\r\n      throw new TypeError('predicate must be a function');\r\n    }\r\n    var list = Object(this);\r\n    var length = list.length >>> 0;\r\n    var thisArg = arguments[1];\r\n    var value;\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      value = list[i];\r\n      if (predicate.call(thisArg, value, i, list)) {\r\n        return value;\r\n      }\r\n    }\r\n    return undefined;\r\n  };\r\n}\r\n\r\nif (!Date.now) {\r\n  Date.now = function () {\r\n    return new Date().getTime();\r\n  };\r\n}\r\n\r\n(function () {\r\n  'use strict';\r\n\r\n  var vendors = ['webkit', 'moz'];\r\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\r\n    var vp = vendors[i];\r\n    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = (window[vp + 'CancelAnimationFrame']\r\n      || window[vp + 'CancelRequestAnimationFrame']);\r\n  }\r\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) // iOS6 is buggy\r\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\r\n    var lastTime = 0;\r\n    window.requestAnimationFrame = function (callback) {\r\n      var now = Date.now();\r\n      var nextTime = Math.max(lastTime + 16, now);\r\n      return setTimeout(function () { callback(lastTime = nextTime); },\r\n        nextTime - now);\r\n    };\r\n    window.cancelAnimationFrame = clearTimeout;\r\n  }\r\n} ());","export default class Primary {\r\n  constructor(spellModel) {\r\n    this.id = spellModel.id;\r\n    this.ownerId = spellModel.ownerId;\r\n    this.type = spellModel.type;\r\n    this.mass = spellModel.mass;\r\n    this.power = spellModel.power;\r\n    this.velocity = { x: 0, y: 0 };\r\n    this.speed = 5;\r\n    this.radius = 10;\r\n    \r\n    this.color = spellModel.color || { r: 0, g: 0, b: 0 };\r\n    this.position = spellModel.position || { x: 0, y: 0 };\r\n    \r\n    this.setTarget(spellModel.target);\r\n  }\r\n  \r\n  calculateNextPosition() {\r\n    if (typeof this.velocity.x !== 'undefined' && typeof this.velocity.y !== 'undefined') {\r\n      this._calculatePosition.call(this);\r\n    }\r\n  }\r\n  \r\n  onAdd(owner) {\r\n    owner.onCast(this);\r\n  }\r\n  \r\n  onCollision(model) {\r\n    model.health -= this.power;\r\n    \r\n    model.velocity.x += this.power * this.mass * this.velocity.x / model.mass;\r\n    model.velocity.y += this.power * this.mass * this.velocity.y / model.mass;\r\n    \r\n    model.stunned = 50;\r\n  }\r\n  \r\n  setTarget(target) {\r\n    this.target = {\r\n      x: target.x,\r\n      y: target.y\r\n    };\r\n    \r\n    var vX = this.target.x - this.position.x;\r\n    var vY = this.target.y - this.position.y;\r\n    var distance = this._getHypotenuseLength(vX, vY);\r\n    \r\n    this.velocity = {\r\n      x: vX / distance,\r\n      y: vY / distance\r\n    };\r\n  }\r\n  \r\n  _calculatePosition() {\r\n    this.position = {\r\n      x: this.position.x + this.velocity.x * this.speed,\r\n      y: this.position.y + this.velocity.y * this.speed\r\n    };\r\n  }\r\n  \r\n  _getHypotenuseLength(x, y) {\r\n    return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n  }\r\n}","var OPCode = require('../../../opCode');\r\n\r\nexport { default as Primary } from './Primary';\r\n\r\nexport function get(code) {\r\n  var spell = null;\r\n  \r\n  switch (code) {\r\n    case OPCode.SPELL_PRIMARY:\r\n      spell = module.exports.Primary;\r\n      break;\r\n  }\r\n  \r\n  return spell;\r\n}","module.exports = {\n  // actions\n  \"PING\": 0x01,\n  \"PONG\": 0x02,\n  \"SPAWN_PLAYER\": 0x03,\n  \"ADD_PLAYER\": 0x04,\n  \"UPDATE_PLAYERS\": 0x05,\n  \"UPDATE_SPELLS\": 0x06,\n  \"PLAYER_MOVE\": 0x07,\n  \n  // cast\n  \"CAST_PRIMARY\": 0x08,\n  \n  // types\n  \"SPELL_PRIMARY\": 0x0A,\n  \n  // direction\n  \"DIRECTION_WEST\": 0X14,\n  \"DIRECTION_EAST\": 0X15,\n  \"DIRECTION_NORTH\": 0X16,\n  \"DIRECTION_SOUTH\": 0X17,\n  \"DIRECTION_NWEST\": 0X18,\n  \"DIRECTION_NEAST\": 0X19,\n  \"DIRECTION_SWEST\": 0X1A,\n  \"DIRECTION_SEAST\": 0X1B\n};"]}